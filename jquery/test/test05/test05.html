<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" 
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css" type="text/css">
        <title>11번가</title>
        <style>
            .hide
            {
                display: none;
            }
            /* bootstrap으로 d-none 가능 . d-none은 꼭 removeClass(), addClass()로 할당, 해제시켜줘야한다 */
        </style>
    </head>
    <body>
        <div id = "wrap">
            <header class = "d-flex align-items-center">
                <h1 class = "font-weight-light text-danger">111번가</h1>
                <hr>
            </header>
            <div class = "d-flex justify-content-center">
                <article>
                    <h2 class = "mt-2">가입 정보 입력</h2>
                    <p class = "font-weight-light text-secondary mt-2">
                       111번가의 다양한 혜택을 누려보세요!!! 
                    </p>
                    <div>
                        <label>아이디</label><br>
                        <input type="text" class = "form-control" id = "id">
                        <div class="hide small text-info font-weight-light" id = "wordCount">아이디를 4자 이상 입력하세요</div>
                    </div>
                    <div class = "mt-3">
                        <label>비밀 번호</label><br>
                        <input type="text" class = "form-control" id = "password">
                    </div>
                    <div class = "mt-3">
                        <label>비밀 번호 확인</label><br>
                        <input type="text" class = "form-control" id = "confirmPassword">
                    </div>
                    <div class = "mt-3">
                        <label>이름</label><br>
                        <input type="text" class = "form-control" id = "name">
                    </div>
                    <div class = "mt-3">
                        <label>이메일</label><br>
                        <div class = "d-flex">
                            <input type="text" class = "form-control" style="width: 200px;" id = "email">@
                            <select class = "form-control" style="width: 180px;" id = "emailSelect">
                                <option value = "naver.com">naver.com</option>
                                <option value = "gmail.com">gmail.com</option>
                                <option value = "daum.net">daum.net</option>
                                <option value = "self">집적 입력</option>
                            </select>
                            <input type="text" class = "form-control hide" style = "width: 180px;" id = "selfemail">
                        </div>
                    </div>
                    <div class = "mt-4">
                        <button type="button" class = "form-control bg-danger" id = "registerBtn">가입하기</button>
                    </div>
                </article>
            </div>
            <footer class = "d-flex align-items-center justify-content-center">
                <div class = "small font-weight-light text-secondary">Copyright 2021. 111st All Rights Reserved.</div>
            </footer>

        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.0.min.js" 
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" 
        crossorigin="anonymous"></script>

        <script>
            $(document).ready(function(){

                $("#registerBtn").on("click", function(){

                    if($("#id").val() && $("#password").val() && $("#confirmPassword").val() && $("#name").val() && $("#email").val())
                    {
                        if($("#emailSelect").is(":visible"))
                        {
                            alert("아이디 : " + $("#id").val() + "\n이름 : " + $("#name").val() + "\n이메일 : " + $("#email").val() + "@" + $("#emailSelect").val() + "\n가입이 완료되었습니다");
                        }
                        else
                        { 
                            alert("아이디 : " + $("#id").val() + "\n이름 : " + $("#name").val() + "\n이메일 : " + $("#email").val() + "@" + $("#selfemail").val() + "\n가입이 완료되었습니다");
                        }
                        
                    }
                    else
                    {
                        if(!$("#id").val())
                        {
                            alert("아이디를 입력하세요");
                        }
                        if(!$("#password").val())
                        {
                            alert("비밀번호를 입력하세요");
                        }
                        if(!$("#confirmPassword").val())
                        {
                            alert("확인비밀번호를 입력하세요");
                        }
                        if(!$("#name").val())
                        {
                            alert("이름을 입력하세요");
                        }
                        if(!$("#email").val())
                        {
                            alert("이메일을 입력하세요");
                        }
                    }
                });
                $("#confirmPassword").focusout(function(){

                    if($("#password").val() != $("#confirmPassword").val())
                    {
                        alert("비밀번호가 일치하지 않습니다");
                    }

                });

                $("#emailSelect").on("change", function(){

                    if($(this).val() == "self")
                    {
                        $(this).hide();
                        $("#selfemail").removeClass("hide");
                    }
                });

                $("#id").keyup(function(){
                    if($(this).val().length < 4)
                    {
                        $("#wordCount").show();
                    }
                    else
                    {
                        $("#wordCount").hide();
                    }
                });

            });
        </script>
    </body>
</html>